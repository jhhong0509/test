# 중첩 클래스 및 인터페이스

쉽게 말해 클래스 안에 클래스, 인터페이스를 의미한다.

``` java
class A {
    class B {
        
    }
}
```

## 중첩 클래스

### 사용 경우

하나의 클래스가 여러 클래스와 관계를 맺지 않고, 특정 클래스와 관계를 맺을 경우에 사용된다.

### 사용 이유

- 두 클래스 멤버들이 서로 쉽게 접근할 수 있다.

- 외부의 불필요한 관계를 감춰서 코드의 복잡성을 줄일 수 있다.

  만약 이렇게 사용하지 않으면, 복잡하게 두 클래스 간의 관계를 나타내야 한다.

### 멤버

중첩 클래스 또한 생성자가 올 수 있다.

#### 인스턴스 멤버 클래스

``` java
class A {
    class B {
        
    }
}
```

- A 객체를 생성해야지만 사용할 수 있다

- 인스턴스 멤버 클래스에는 정적 필드 및 메소드가 사용 불가능 하다.

##### 정적 멤버 클래스

``` java
class A {
    static class B {
        
    }
}
```

- static 키워드가 붙은 멤버 클래스 이다.

- A.B 처럼 바로 접근할 수 있다.

- 정적 필드 및 메소드가 올 수 있다.

##### 로컬 클래스

``` java
class A {
    void method() {
        class B {
            
        }
    }
}
```

- 메소드 안에 존재하는 지역 클래스다.

- 멤버 클래스가 아니다.

- method()가 실행중 일때만 접근 가능하다.

- 접근 제한자가 사용 불가능 하다.

> 어차피 해당 메소드 에서만 접근 가능하기 때문에 필요 없다.

- 로컬 클래스를 사용하려면 해당 메소드가 실행될 때 해당 메소드 내부에서 객체 생성 및 사용해야 한다.

``` java
void method() {
    class D {
        D() {}
        
        int a;
    }
    
    D d = new D();
    d.a = 10;
}
```

> 주로 비동기 처리를 위해 스레드 객체를 만들 때 사용된다.



### 중첩 클래스의 접근 제한

#### 바깥 필드 및 메소드에서 제한

- instance 멤버 클래스는 static으로 선언이 불가능 하다.

- static 멤버 클래스는 static으로 선언이 가능하다.

- instance 멤버 클래스는 정적 메소드에서 객체 생성이 안된다.

#### 멤버 클래스에서 사용 제한

- static 멤버 클래스는 static 필드로만 접근할 수 있다.
- 반대로 instance 멤버 클래스는 모두 접근할 수 있다.

#### 로컬 클래스에서 사용 제한

하지만 메소드의 매개변수나 로컬 변수를 사용할 때에는 조건 제한 없이 접근할 수 있다..

로컬 클래스에서 사용 가능한건 final로 선언된 매개변수 및 로컬변수다.

알아서 final 이란 특성을 부여해 준다.

``` java
void outMethod(final int a, int b) {
    final int c = 1;
    int d = 2;
    class LocalClass {
        void method() {
            int result = a+b+c+d;
        }
    }
}
```



> 참고로 멤버 클래스들도 하나의 클래스 이기 때문에 컴파일 시에 각각 하나의 바이트코드 파일로 만들어 진다.
>
> 이름은 A$B.class 처럼 부모$자식.class 형태의 이름으로 만들어 진다.

## 중첩 인터페이스

UI 프로그래밍에서 이벤트를 짤 때 사용되며, 클래스 내부에 있는 인터페이스를 의미한다.

해당 클래스와 긴밀한 관계를 갖는 구현 클래스를 만들기 위해 사용된다.