# 도커

### 도커를 사용해야 하는 이유

- 환경에 구애받지 않고 실행할 수 있음.

  예를 들어 어떠한 프로젝트를 배포한다고 가정했을 때, 해당 프로젝트를 우분투/Cent os에 배포한다면 둘 다 기초적인 install을 받아야 한다.

  하지만 둘의 명령어가 다르기 때문에, 사람이 직접 설치했을 때, 각각 다른 명령어를 치게 되면 무언가를 빼먹거나, 실수하기 쉽다.

  그렇기 때문에 도커를 사용하면 어느 환경에서든 동일한 명령어를 통해 서버를 세팅할 수 있다.

- 관리가 간편하다

  기존의 서버에서는 install 받아온 것의 버전 등을 정의한 운영 기록을 저장하곤 한다.

  하지만 이러한 운영 기록은, 해당 시점에선 잘 작동할지 몰라도, 지금은 작동하지 않을 수 있다.

  그렇기 때문에, docker는 Dockerfile을 통해 이러한 기록을 코드화 시킬 수 있다.

- 실행 시점에 관계없이 구성 시점을 고정할 수 있다.

  ​	만약 1년 전에 서버를 배포했고, 오늘 다시 배포를 하려 한다고 가정하자.

  ​	1년동안 서버에 install 되었던 것들은 업데이트가 되었을수도, 안되었을 수도 있다. ex) redis

  ​	업데이트가 되었다고 가정했을 때, 해당 버전을 전에 사용하던 대로 사용할 수 없다면, 오류가 발생한다.

### 컨테이너란

- 컨테이너의 방식

  호스트 OS  상의 논리적인 구역(컨테이너)를 만든다.

  해당 구역에 애플리케이션을 작동시키기 위하여 필요한 라이브러리나 애플리케이션등을 하나로 모아서 별도의 서버 처럼 사용하는 것

  OS의 리소스(자원)을 논리적으로 분리 시키고, 여러개의 컨테이너가 공유한다.

- 컨테이너의 장점

  OS를 부팅하는 것 보다 훨씬 가볍고, 메모리를 훨씬 적게 차지한다.

### 도커의 기본적인 실행 순서

1. Dockerfile을 작성한다.
2. Dockerfile을 빌드하여 이미지를 생성한다.
3. 생성된 이미지를 여러 옵션들과 함께 컨테이너에서 돌린다.